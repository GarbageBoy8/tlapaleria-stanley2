<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>STANLEY</title>
	<link rel="stylesheet" href="style.css">
	<link rel="icon" type="image/png" href="img/forlogin - copia.png">
</head>

<body>

	<header>
		<div class="container-hero">
			<div class="container hero">
				<div class="customer-support">
					<i class="fa-solid fa-headset"></i>
					<div class="content-customer-support">
						<span class="text">Soporte al cliente</span>
						<span class="number">123-456-7890</span>
					</div>
				</div>

				<div class="container-logo">
					<img src="../img/LogoS.jpg" alt="Logo Tlapaleria" />
				</div>

				<div class="container-user">
					<a href="../Inicio de Sesion/index.html"><i class="fa-solid fa-user"></i></a>
					<i class="fa-solid fa-basket-shopping"></i>
					<div class="content-shopping-cart">
						<span class="text">Carrito</span>
						<span class="number">(0)</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container-navbar">
			<nav class="navbar container">
				<i class="fa-solid fa-bars"></i>
				<ul class="menu">
					<li><a href="../index.html">Inicio</a></li>
					<li><a href="../Nosotros/index.html">Nosotros</a></li>
					<li><a href="../catlogo/index.html">Nuestros Productos</a></li>
					<li><a href="index.html">reparaciones</a></li>
					<li><a href="../contacto/index.html">contacto</a></li>
				</ul>


			</nav>
		</div>
	</header>

	<!-- BANNER -->
	<section class="banner">
		<div class="content-banner">
			<h2>AGENDA TU CITA </h2>
		</div>
	</section>


	<section class="date-page">
		<div class="date-container">

			<div class="form-section">
				<span class="etiqueta">Agenda tu cita</span>
				<h2>¿Cómo podemos ayudarte?</h2>
				<form action="#" method="POST">

					<div class="form-row">
						<input type="text" name="nombre" placeholder="Nombre" required>
						<input type="tel" name="telefono" placeholder="Teléfono">
					</div>

					<div class="form-row">
						<input type="email" name="correo" placeholder="Correo electrónico" required>
						<input type="text" name="asunto" placeholder="Asunto">
					</div>

					<!-- NUEVA SECCIÓN DE FECHA Y HORA DE CITA -->
					<div class="form-row">
						<div class="form-group">
							<label for="fecha-cita" class="fecha-label">Selecciona la fecha de tu cita:</label>
							<input type="date" id="fecha-cita" name="fecha-cita" required>
						</div>

						<div class="form-group">
							<label for="hora-cita" class="hora-label">Selecciona la hora:</label>
							<input type="time" id="hora-cita" name="hora-cita" required>
						</div>
					</div>

					<textarea name="mensaje" rows="6" placeholder="Mensaje"></textarea>

	</section>

	<button type="button" class="btn-info" onclick="genPDF()">Descargar cita</button>

	<!-- script para generar pdf -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script type="text/javascript">
	// --- Generador de folio ---
	function generarFolio() {
		const fecha = new Date();
		const año = fecha.getFullYear().toString().slice(-2);
		const mes = String(fecha.getMonth() + 1).padStart(2, '0');
		const dia = String(fecha.getDate()).padStart(2, '0');
		const random = Math.random().toString(36).substring(2, 6).toUpperCase();
		return `CIT-${año}${mes}${dia}-${random}`;
	}

	async function genPDF() {
		const { jsPDF } = window.jspdf;
		const doc = new jsPDF();

		// --- Logo (ajusta la ruta a tu imagen) ---
		// Puede ser JPG o PNG, de preferencia 200x200px o menos
		const logoUrl = "./img/LogoS.jpg"; // 🔁 cambia por tu logo
		const img = await loadImageAsBase64(logoUrl);
		doc.addImage(img, "PNG", 150, 10, 40, 30); // (imgData, formato, x, y, ancho, alto)

		// --- Folio ---
		const folio = generarFolio();

		// --- Encabezado ---
		doc.setFontSize(18);
		doc.setFont("helvetica", "bold");
		doc.text("Cita de Reparación", 20, 25);
		doc.setFontSize(12);
		doc.setTextColor(0, 0, 0);
		doc.text("Folio: " + folio, 20, 40);

		// --- Datos del formulario ---
		let y = 60; // posición vertical inicial
		const datos = [
			{ label: "Nombre:", value: document.querySelector('input[name="nombre"]').value },
			{ label: "Teléfono:", value: document.querySelector('input[name="telefono"]').value },
			{ label: "Correo Electrónico:", value: document.querySelector('input[name="correo"]').value },
			{ label: "Asunto:", value: document.querySelector('input[name="asunto"]').value },
			{ label: "Fecha de Cita:", value: document.querySelector('input[name="fecha-cita"]').value },
			{ label: "Hora de Cita:", value: document.querySelector('input[name="hora-cita"]').value },
			{ label: "Mensaje:", value: document.querySelector('textarea[name="mensaje"]').value }
		];

		doc.setFont("helvetica", "normal");
		doc.setDrawColor(0, 102, 204); // Azul (RGB)
		doc.setLineWidth(0.6);

		datos.forEach(item => {
			// Texto
			doc.setTextColor(0, 0, 0);
			doc.text(`${item.label} ${item.value}`, 20, y);

			// Línea azul debajo del texto
			const textWidth = doc.getTextWidth(`${item.label} ${item.value}`);
			doc.line(20, y + 2, 20 + textWidth, y + 2); // x1, y1, x2, y2

			y += 15; // separador entre campos
		});

		// --- Pie de página ---
		const fechaActual = new Date().toLocaleString('es-MX');
		doc.setFontSize(10);
		doc.setTextColor(100);
		doc.text(`Generado el: ${fechaActual}`, 20, 280);

		// --- Guardar PDF ---
		doc.save(`cita-reparacion.pdf`);
	}

	// --- Convertir imagen URL a base64 para jsPDF ---
	function loadImageAsBase64(url) {
		return new Promise((resolve, reject) => {
			const xhr = new XMLHttpRequest();
			xhr.onload = function() {
				const reader = new FileReader();
				reader.onloadend = () => resolve(reader.result);
				reader.readAsDataURL(xhr.response);
			};
			xhr.onerror = reject;
			xhr.open("GET", url);
			xhr.responseType = "blob";
			xhr.send();
		});
	}
</script>




	<!-- location -->
	<section class="location">
		<div class="content-location">
			<h2>Nuestra Ubicación</h2>
			<p>Estamos ubicados en el corazón de la ciudad, en la Calle Principal #123, Ciudad, País. Nuestra tienda es
				fácilmente accesible y cuenta con un amplio estacionamiento para la comodidad de nuestros clientes.</p>
			<div class="mapa">
				<iframe
					src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3763.632263486257!2d-99.1332096845932!3d19.432607986886736!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1ff4c8b5e5b7b%3A0x4a4b8b8b8b8b8b8b!2sCalle%20Principal%20123%2C%20Ciudad%2C%20Pa%C3%ADs!5e0!3m2!1ses-419!2smx!4v1616161616161!5m2!1ses-419!2smx"
					width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
			</div>
		</div>
	</section>

	<!-- FOOTER -->
	<footer class="footer">
		<div class="footer-contenedor">
			<div class="footer-col-info">
				<img class="footer-logo" src="/img/forlogin.png" />
				<p class="footer-descripcion">
					En Parque Ecoturístico Tlalmanalco, creemos que la diversión y el
					respeto por la naturaleza pueden ir de la mano.
				</p>
			</div>

			<div class="footer-col-nav">
				<h4 class="footer-titulo">Navegación</h4>
				<nav class="footer-nav">
					<ul>
						<li><a href="#">INICIO</a></li>
						<li><a href="#">NOSOTROS</a></li>
						<li><a href="#">NUESTROS PRODUCTOS</a></li>
						<li><a href="#">REPARACIONES</a></li>
						<li><a href="#">CONTACTO</a></li>
					</ul>
				</nav>
			</div>

			<div class="footer-col-nav footer-col-exp">
				<h4 class="footer-titulo">Categorias</h4>
				<nav class="footer-nav">
					<ul>
						<li><a href="#">DESARMADORES</a></li>
						<li><a href="#">HERRAMIENTAS DE CORTE</a></li>
						<li><a href="#">BOMBAS</a></li>
						<li><a href="#">TTORNILLOS</a></li>
						<li><a href="#">MARTTILLOS</a></li>
						<li><a href="#">MAQUINARIA</a></li>
					</ul>
				</nav>
			</div>

			<div class="footer-col-contacto">
				<h4 class="footer-titulo">Contacto</h4>

				<div class="contacto-item">
					<i>&#x260E;</i> <span>55 7211 7828</span>
				</div>

				<div class="contacto-item">
					<i>&#x2709;</i> <span>stanley-tlapa@gmail.com</span>
				</div>

				<div class="contacto-item">
					<i>&#x27A6;</i>
					<span>
						Caretera Federal México-Cuautla, 56700 Tlalmanalco de Velázquez,
						Mex
					</span>
				</div>

				<div class="social-icons">
					<a href="#"><i class="fa-brands fa-square-whatsapp"></i></a>
					<a href="#"><i class="fa-brands fa-facebook"></i></a>
				</div>
			</div>
		</div>

		<div class="footer-copyright">
			&copy; 2025 Tlapaleria Stanley. Desarrollado por
			<a href="#">CHUPPS</a> | <a href="#">Política de privacidad</a>.
		</div>
	</footer>


	<script src="https://kit.fontawesome.com/44e03b64d7.js" crossorigin="anonymous"></script>
</body>

</html>